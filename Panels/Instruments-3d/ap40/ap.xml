<?xml version="1.0"?>
<!--
    #############################################################################
  Автопилот))
    #############################################################################	  
    -->


<PropertyList>
 <path>ap.ac</path>
<!-- Internal instruments lighting--> 
<animation>
  <type>material</type>
  <object-name>up</object-name>
  <object-name>down</object-name>
  <object-name>left</object-name>
  <object-name>right</object-name>
  <object-name>on</object-name>
  <emission>
    <red-prop>yak-40/light/instruments/int-red</red-prop>
    <green-prop>yak-40/light/instruments/int-green</green-prop>
    <blue-prop>yak-40/light/instruments/int-blue</blue-prop>
  </emission>
</animation>


<!-- Internal instruments lighting-->
<animation>
  <type>material</type>
  <object-name>bg</object-name>
</animation>

<!--Power-->

<!--Lamp-->
 
<animation>
  <type>material</type>
  <object-name>ready_btn</object-name>
  <emission>
    <red>1</red>
    <green>1</green>
    <blue>1</blue>
    <factor-prop>yak-40/instrumentation/ap40/serviceable</factor-prop>
 </condition>
</animation>


<!--On-->
<!--Pick-->
<animation>
  <type>pick</type>
  <object-name>on</object-name>
  <visible>false</visible>
  <action>
    <button>0</button>
     <binding>
      <command>nasal</command>
      <script>
      setprop("yak-40/switches/vkl_ap", 1);
      instruments.ap_on()
      </script>
    </binding>
    </action>
</animation>

<animation>
  <type>pick</type>
  <object-name>on</object-name>
  <visible>false</visible>
  <action>
    <button>1</button>
    <binding>
      <command>nasal</command>
      <script>
      setprop("yak-40/switches/vkl_ap", 0);
      setprop("yak-40/switches/h_ap", 0);
      instruments.ap_on()
      </script>
    </binding>
    </action>
</animation>

<!--Lamp-->
 
 <animation>
  <type>select</type>
  <object-name>on_lamp</object-name>
  <condition>
	   <property>yak-40/instrumentation/ap40/ap_on</property>
 </condition>
</animation>
  
<!--КВ-->
<!--Pick-->
<animation>
  <type>pick</type>
  <object-name>kv</object-name>
  <visible>false</visible>
  <action>
    <button>0</button>
    <repeatable>false</repeatable>
    <binding>
      <command>nasal</command>
      <script>
        setprop("yak-40/switches/h_ap", 1);
        instruments.ap_althold()
      </script>
    </binding>
    </action>
</animation>

<animation>
  <type>pick</type>
  <object-name>kv</object-name>
  <visible>false</visible>
  <action>
    <button>1</button>
    <repeatable>false</repeatable>
    <binding>
      <command>nasal</command>
      <script>
        setprop("yak-40/switches/h_ap", 0);
        instruments.ap_althold()
      </script>
    </binding>
    </action>
</animation>

<!--Lamp-->

<animation>
  <type>select</type>
  <object-name>kv_lamp</object-name>
  <condition>
	   <property>yak-40/instrumentation/ap40/althold</property>
 </condition>
</animation>

<!--Left-->
 <animation>
  <type>pick</type> 
  <object-name>left</object-name> 
 <visible>false</visible>
  <action>
    <button>0</button>
    <repeatable>true</repeatable>
    <interval-sec>0.2</interval-sec>
    <binding>
      <command>nasal</command>
      <script>
      	setprop("/autopilot/locks/heading", "roll" );
        setprop("/autopilot/internal/target-roll-deg",(getprop("autopilot/internal/target-roll-deg") - 1.0));
      </script>
    </binding>
    </action>
  </animation>

<!--Right-->
 <animation>
  <type>pick</type> 
  <object-name>right</object-name> 
 <visible>false</visible>
  <action>
    <button>0</button>
    <repeatable>true</repeatable>
    <interval-sec>0.2</interval-sec>
    <binding>
      <command>nasal</command>
      <script>
      	setprop("/autopilot/locks/heading", "roll" );
        setprop("/autopilot/internal/target-roll-deg",(getprop("autopilot/internal/target-roll-deg") + 1.0));
      </script>
    </binding>
    </action>
  </animation>

<!--Nol-->
<animation>
  <type>pick</type>
  <object-name>nol</object-name>
  <visible>false</visible>
  <action>
    <button>0</button>
     <binding>
      <command>nasal</command>
      <script>
      setprop("/autopilot/settings/heading-bug-deg", getprop("yak-40/instrumentation/npp/left/indicated-heading-deg") );
	    setprop("/autopilot/locks/heading", "dg-heading-hold" );
      </script>
    </binding>
    </action>
</animation>

<!--Down-->
 <animation>
  <type>pick</type> 
  <object-name>down</object-name> 
 <visible>false</visible>
  <action>
    <button>0</button>
    <repeatable>true</repeatable>
    <interval-sec>0.2</interval-sec>
    <binding>
      <command>nasal</command>
      <script>
        setprop("autopilot/settings/target-pitch-deg",(getprop("autopilot/settings/target-pitch-deg") - 0.5));
        setprop("yak-40/switches/h_ap", 0);
        instruments.ap_althold()
      </script>
    </binding>
    </action>
  </animation>
<!--Up-->

 <animation>
  <type>pick</type> 
  <object-name>up</object-name> 
 <visible>false</visible>
  <action>
    <button>0</button>
    <repeatable>true</repeatable>
    <interval-sec>0.2</interval-sec>
    <binding>
      <command>nasal</command>
      <script>
        setprop("autopilot/settings/target-pitch-deg",(getprop("autopilot/settings/target-pitch-deg") + 0.5));
        setprop("yak-40/switches/h_ap", 0);
        instruments.ap_althold()
      </script>
    </binding>
    </action>
  </animation>


</PropertyList>
